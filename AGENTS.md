## プロジェクト概要

- `nth_weekday` は「第3水曜」「最終金曜」などの日時を計算する、小規模かつ依存の少ない Ruby gem です。
- 対応 Ruby バージョン: 3.3.0 以上。

本ファイルは、このリポジトリに対して作業するエージェント（Codex 等）向けの開発ガイドラインです。

---

## 基本方針（必ず守ること）

- 原則として **新しい runtime 依存は追加しない**（標準ライブラリ優先）。
- Ruby バージョン要件を変更する場合は、理由を明記し CI も更新する。
- 公開 API は後方互換を優先する。

---

## 通常変更してよい場所（デフォルトの編集スコープ）

通常の実装・改善タスクでは、以下のみを編集対象とします：

- 実装: `lib/`
- テスト: `spec/`
- サンプル: `examples/`（任意）

実装を変更した場合は、対応する spec の追加・修正を必須とします。

---

## 例外的に編集してよい場所

以下の条件に該当する場合は、上記スコープ外の編集も許可されます：

### ユーザー向け挙動や API が変わる場合

- `README.md`
- `CHANGELOG.md`

### Ruby 要件や実行環境を変更する場合

- CI 設定（`.github/` 配下など）

※ これらの変更は、PR 内で必ず理由を説明してください。

---

## ローカル開発コマンド（完了前に必ず実行）

### 依存インストール

```bash
bundle install
```

### テスト

```bash
bundle exec rspec
```

### 静的解析

```bash
bundle exec rubocop
```

## 完了条件（Definition of Done）

以下をすべて満たしていること：
-	RSpec が成功している
-	RuboCop が成功している（.rubocop.yml に従う）
-	振る舞いの変更には必ず spec が追加されている
-	ユーザー向け挙動が変わる場合は README.md / CHANGELOG.md を更新している
-	Ruby 要件を変えた場合は CI も更新している

---

## Pull Request に必ず書くこと

PR には最低限、以下を含めてください：
- 何を変更したか
- なぜ変更したか
- 確認方法（実行したコマンドと結果の要約）

例：
- bundle exec rspec
- bundle exec rubocop

---

## 安全装置
- 不要なリファクタリングやフォーマット変更を混ぜない
- 意図しない API 変更をしない
- 小さく、目的が明確な差分を心がける
